/**
 * @class ILLMProvider
 * @memberOf module:LLMProviderInterface
 * @description Interface for LLM providers.
 * This class defines the method that must be implemented by any LLM provider to generate a completion for a given prompt.
 */
export class ILLMProvider {
  /**
   * Generates a completion for the given prompt using the provided parameters.
   * @param {object} params - The parameters for generating the completion.
   * @throws {Error} If the LLM provider is invalid or if all attempts to generate the completion fail.
   **/
  async generateCompletion(params) {
    throw new Error("Method not implemented");
  }
}

/**
 * @class ILLMResponse
 * @memberOf module:LLMProviderInterface
 * @description Interface for LLM responses.
 * This class defines the properties that must be returned by any LLM provider to generate a completion for a given prompt.
 */
export class ILLMResponse {
  /**
   * Constructor for ILLMResponse.
   * @param {string} content - The content generated by the LLM provider.
   * @param {object} usage - The usage details returned by the LLM provider.
   * @param {object} rawResponse - The raw response returned by the LLM provider.
   */
  constructor(content, usage, rawResponse) {
    this.content = content;
    this.usage = usage;
    this.rawResponse = rawResponse;
  }
}

/**
 * @class LLMProviderConfig
 * @memberOf module:LLMProviderInterface
 * @description Interface for LLM provider configurations.
 * This class defines the properties that must be passed to any LLM provider to generate a completion for a given prompt.
 */
export class LLMProviderConfig {
  /**
   * Constructor for LLMProviderConfig.
   * @param {object} params - The parameters for the LLM provider.
   * @param {string} params.model - The model to use for generating the completion.
   * @param {number} params.temperature - The temperature to use for generating the completion.
   * @param {number} params.maxTokens - The maximum number of tokens to generate.
   * @param {number} params.topP - The top probability to use for generating the completion.
   * @param {number} params.frequencyPenalty - The frequency penalty to use for generating the completion.
   * @param {number} params.presencePenalty - The presence penalty to use for generating the completion.
   * @param {number} params.timeout - The timeout in milliseconds to wait for the completion.
   * @param {number} params.maxRetries - The maximum number of times to retry the generation on error.
   * @param {object} params.additionalParams - Additional parameters to pass to the LLM provider.
   */
  constructor({
    model,
    temperature,
    maxTokens,
    topP,
    frequencyPenalty,
    presencePenalty,
    timeout,
    maxRetries,
    additionalParams = {},
  }) {
    this.model = model;
    this.temperature = temperature;
    this.maxTokens = maxTokens;
    this.topP = topP;
    this.frequencyPenalty = frequencyPenalty;
    this.presencePenalty = presencePenalty;
    this.timeout = timeout;
    this.maxRetries = maxRetries;
    this.additionalParams = additionalParams;
  }
}
